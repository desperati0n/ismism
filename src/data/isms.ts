// 主义主义数据库 - 模拟数据
// 格式: "1-2-3-4" 或包含 $ 的组合

export interface Ism {
  code: string; // 例如 "1-2-3-4" 或 "$-1-2-3"
  name: string;
  description: string;
}

export const ismsDatabase: Ism[] = [
  // $ 在第一位（主体性缺失）的特殊组合
  {
    code: '$-1-2-3',
    name: '虚无理想主义',
    description: '当主体性缺失遇见理想、理性与传统，形成一种对意义的深刻质疑。这种主义认为，在失去主体的前提下，任何理想都是虚构的，理性是空洞的，传统是无根的。',
  },
  {
    code: '$-2-3-4',
    name: '漂流存在主义',
    description: '主体性的缺失使得理性、传统与行动都失去了锚点。这是一种漂泊的存在状态，既无法回到传统，也无法通过理性找到方向，只能在行动中寻找临时的意义。',
  },
  {
    code: '$-1-1-1',
    name: '空想乌托邦主义',
    description: '在主体性缺失的情况下，纯粹的理想堆叠成为一种空中楼阁。这种主义沉迷于美好的幻想，却无法落地，因为没有真实的主体去承载和实现这些理想。',
  },
  {
    code: '$-4-4-4',
    name: '机械行动主义',
    description: '失去主体性后的纯粹行动，像机器一样运转，没有反思，没有目的，只有不断的运动本身。这是一种最彻底的异化状态。',
  },
  
  // 标准数字组合
  {
    code: '1-2-3-4',
    name: '理性进步主义',
    description: '结合理想、理性、传统与行动，追求通过理性思考和实际行动，在尊重传统的基础上实现理想的进步。这是一种平衡而全面的世界观。',
  },
  {
    code: '1-1-1-1',
    name: '纯粹理想主义',
    description: '将理想视为唯一追求，相信通过不懈的理想追求可以改变世界。这种主义充满热情但可能脱离现实，容易陷入乌托邦式的幻想。',
  },
  {
    code: '2-2-2-2',
    name: '极端理性主义',
    description: '认为理性是解决一切问题的唯一工具。过度依赖逻辑和分析，可能忽视情感、直觉和人性的复杂面向。',
  },
  {
    code: '3-3-3-3',
    name: '保守传统主义',
    description: '强调传统、习俗和既有秩序的价值，抗拒变革和创新。认为祖先的智慧是最可靠的指引，但可能导致僵化和停滞。',
  },
  {
    code: '4-4-4-4',
    name: '激进行动主义',
    description: '强调实践高于一切，通过不断的行动来创造变化。可能缺乏深思熟虑，导致盲目的运动和无效的努力。',
  },
  {
    code: '1-2-1-2',
    name: '理想理性循环主义',
    description: '在理想与理性之间不断循环，用理性检验理想，用理想激发理性。这是一种自我完善的思维模式，但可能陷入过度内省。',
  },
  {
    code: '3-4-3-4',
    name: '传统行动交替主义',
    description: '在传统与行动之间摇摆，既想保持传统，又想通过行动改变现状。这种矛盾可能导致犹豫不决，也可能形成稳健的变革路径。',
  },
  {
    code: '1-4-1-4',
    name: '理想实践往复主义',
    description: '在理想与实践之间来回试探，不断用行动检验理想，用理想指导行动。这是一种务实的理想主义。',
  },
  {
    code: '2-3-2-3',
    name: '理性传统辩证主义',
    description: '在理性分析与传统智慧之间寻找平衡，既不盲从传统，也不完全抛弃历史经验。这是一种温和的改革主义。',
  },
  
  // 包含通配符 $ 的组合（非第一位）
  {
    code: '1-$-3-4',
    name: '灵活理想主义',
    description: '坚持理想和行动，但在理性层面保持开放。可以根据情境调整思考方式，在传统与创新之间自由切换。',
  },
  {
    code: '2-3-$-4',
    name: '理性传统灵活行动主义',
    description: '以理性和传统为基础，但在行动层面保持弹性。可以根据具体情况采取不同的策略，既有原则又不僵化。',
  },
  {
    code: '$-$-$-1',
    name: '向心理想主义',
    description: '在一片虚无和不确定中，唯一确定的是对理想的追求。这是一种在混沌中寻找方向的尝试。',
  },
  {
    code: '1-2-3-$',
    name: '待定行动理想主义',
    description: '理想、理性和传统都很明确，但行动方式保持开放。这是一种谨慎而有准备的状态，等待合适的时机采取行动。',
  },
  
  // 更多有趣的组合
  {
    code: '4-3-2-1',
    name: '逆行反思主义',
    description: '从行动开始，回溯到传统，再通过理性反思，最终回到理想。这是一种从实践中提炼智慧的路径。',
  },
  {
    code: '1-3-2-4',
    name: '理想传统理性行动主义',
    description: '以理想为起点，借鉴传统智慧，通过理性规划，最终付诸行动。这是一种系统而稳健的进路。',
  },
  {
    code: '3-1-4-2',
    name: '传统理想行动反思主义',
    description: '从传统出发，重新发现理想，通过行动实践，最后用理性总结。这是一种周期性的发展模式。',
  },
  {
    code: '2-4-1-3',
    name: '理性行动理想传统综合主义',
    description: '理性规划行动，行动激发理想，理想连接传统。这是一种复杂而动态的世界观，强调各要素的互动和转化。',
  },
];

// 搜索函数：支持精确匹配和通配符匹配
export function searchIsms(searchCode: string): Ism[] {
  const searchParts = searchCode.split('-');
  
  const results = ismsDatabase.filter((ism) => {
    const ismParts = ism.code.split('-');
    
    // 如果长度不同，直接不匹配
    if (ismParts.length !== searchParts.length) return false;
    
    // 逐位比较
    for (let i = 0; i < ismParts.length; i++) {
      const searchPart = searchParts[i];
      const ismPart = ismParts[i];
      
      // 如果搜索码的这一位是 $，匹配任何值
      if (searchPart === '$') continue;
      
      // 如果数据库的这一位是 $，也匹配任何值
      if (ismPart === '$') continue;
      
      // 否则必须精确匹配
      if (searchPart !== ismPart) return false;
    }
    
    return true;
  });
  
  return results;
}
